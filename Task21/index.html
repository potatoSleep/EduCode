<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task21</title>
    <script>
        console.log("làm sạch các falsy values có trong mảng");

        function cleanFalsyValues(arr) {
            let arrCl = []
            for (let value of arr) {
                if (value) {
                    arrCl.push(value)
                }
            }
            return arrCl
        }

        console.log(cleanFalsyValues([1, 0, "", null, , , , , , , "", "hello", undefined, NaN, 2, 3]));
        console.log("lọc lấy các số chẵn của một mảng");

        function filterEvenNumbers(arr1) {
            let arrCl2 = []
            for (let value of arr1) {
                if (value % 2 === 0) {
                    arrCl2.push(value)
                }
            }
            return arrCl2
        }

        // Test

        console.log(filterEvenNumbers([10, 15, 21, 22, 30]));
        console.log(filterEvenNumbers([1, 2, 3, 4, 5, 6]));
        console.log("lọc lấy các chuỗi có độ dài lớn hơn 5 của mảng các chuỗi");


        function filterLongStrings(arr) {
            let arrCl3 = []
            for (let value of arr) {
                if (value.length > 5) {
                    arrCl3.push(value)
                }
            }
            return arrCl3
        }

        // Test

        console.log(filterLongStrings(["hello", "world", "javascript", "nodejs"]));
        console.log(filterLongStrings(["hi", "hello world", "a b c", "goodbye!!"]));
        console.log(filterLongStrings(["hi", "bye", "yes"]));

        console.log("Tìm số lớn nhất trong mảng và vị trí của nó (Nếu có 2 số bằng nhau, lấy số đầu tiên tìm được).");
        console.log("Tìm số nhỏ nhất trong mảng và vị trí của nó (Nếu có 2 số bằng nhau, lấy số đầu tiên tìm được).");
        console.log("Tính trung bình cộng các số nguyên tố trong mảng, nếu mảng không có số nguyên tố nào, trả về null.");
        function findMinMaxAverage(arr) {
            if (arr.length === 0) return null;

            let max = arr[0], maxIndex = 0;
            let min = arr[0], minIndex = 0;
            let primeSum = 0, primeCount = 0;

            function isPrime(n) {
                if (n < 2) return false;
                for (let i = 2; i <= Math.sqrt(n); i++) {
                    if (n % i === 0) return false;
                }
                return true;
            }

            for (let i = 0; i < arr.length; i++) {
                let num = arr[i];

                if (num > max) {
                    max = num;
                    maxIndex = i;
                }

                if (num < min) {
                    min = num;
                    minIndex = i;
                }

                if (isPrime(num)) {
                    primeSum += num;
                    primeCount++;
                }
            }

            let primeAverage;
            if (primeCount > 0) {
                primeAverage = primeSum / primeCount;
            } else {
                primeAverage = null;
            }

            console.log({
                max,
                maxIndex,
                min,
                minIndex,
                primeAverage
            });
        }

        findMinMaxAverage([5, 5, 2, 2, 1]);

        console.log(" hàm chèn số vào mảng mà không thay đổi thứ tự tăng dần của mảng.");
        function insertNumber(arr, num) {
            let arrcl = [];
            for (let i = 0; i < arr.length; i++) {
                if (typeof arr[i] === 'number' && !isNaN(arr[i])) {
                    arrcl.push(arr[i]);
                }
            }



            arrcl.sort(function (a, b) {
                return a - b;
            });

            let inserted = false;
            for (let i = 0; i < arrcl.length; i++) {
                if (num < arrcl[i]) {
                    arrcl.splice(i, 0, num);
                    inserted = true;
                    break;
                }
            }

            if (!inserted) {
                arrcl.push(num);
            }

            return arrcl;
        }

        console.log(insertNumber([1, 3, 5, 7, 9], 6)); // Output: [1, 3, 5, 6, 7, 9]
        console.log(insertNumber([3, "hello", 1, NaN, 4, null], 2)); // Output: [1, 2, 3, 4]
        console.log(insertNumber([], 5)); // Output: [5]
        console.log(insertNumber([-1, 10, -5, "abc"], -3)); // Output: [-5, -3, -1, 10]
        console.log(insertNumber([5, 2, 8], NaN)); // Output: [2, 5, 8]



    </script>

</head>

<body>

</body>

</html>